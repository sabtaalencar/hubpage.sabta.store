<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>MY-FORM</title>
</head>
<body>
    <form id="rd-form" method="post" name="meu_formulÃ¡rio_sabta">
        <label for="name">Nome</label>
        <input type="text" id="name" name="name" required>

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>

        <button type="submit">Enviar</button>
    </form>
<script type="text/javascript" async src="https://d2umgtt5tsqx05.cloudfront.net/js/loader-scripts/e60dbeeb-a382-4258-a608-62bb721767d0-loader.js" ></script>
</body>
<script>
  document.getElementById('rd-form').addEventListener('submit', async function (event) {
    event.preventDefault();

    const formData = new FormData(event.target);
    const data = Object.fromEntries(formData.entries());


    try {
        const response = await fetch('http://127.0.0.1:5000/api/send-to-rd', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(data),
        });

        const result = await response.json();
        console.log('sucesso front', result)
        alert(result.mensagem);

    } catch (error) {
        alert('Erro ao enviar os dados. Tente novamente');
        console.log(error)
    }
  })

</script>
</html>
