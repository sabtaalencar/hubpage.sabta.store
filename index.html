<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <script type="text/javascript" async src="https://d335luupugsy2.cloudfront.net/js/loader-scripts/b9035013-d003-4fc8-95bb-0bd754aecd2a-loader.js" ></script>
    <title>MY-FORM</title>
</head>
<body>
<!--     <form id="rd-form" method="post" name="meu_formulÃ¡rio_sabta">
        <label for="name">Nome</label>
        <input type="text" id="name" name="name" required>

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>

        <button type="submit">Enviar</button>
</form embutido> -->
   <!-- <div role="main" id="teste-form-embutido-tel-1fc9d380b2c38d92f3db"></div><script type="text/javascript" src="https://d335luupugsy2.cloudfront.net/js/rdstation-forms/stable/rdstation-forms.min.js">
    </script><script type="text/javascript"> new RDStationForms('teste-form-embutido-tel-1fc9d380b2c38d92f3db', 'null').createForm();</script>-->
</body>

<script>
  document.getElementById('rd-form').addEventListener('submit', async function (event) {
    event.preventDefault();

    const formData = new FormData(event.target);
    const data = Object.fromEntries(formData.entries());


    try {
        const response = await fetch('http://127.0.0.1:5000/api/send-to-rd', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(data),
        });

        const result = await response.json();
        console.log('sucesso front', result)
        alert(result.mensagem);

    } catch (error) {
        alert('Erro ao enviar os dados. Tente novamente');
        console.log(error)
    }
  })

</script>
</html>
